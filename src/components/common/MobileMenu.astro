---
import AlignmentLayout from "../../layouts/AlignmentLayout.astro";
import Button from "../Button.astro";
---

<div 
  id="menu-mobile" 
  class="hidden fixed inset-0 w-screen h-screen menu-closed z-20"
>
  <AlignmentLayout
    direction="vertical"
    justify="center"
    align="center"
    className="relative w-full h-full px-6"
  >
    <AlignmentLayout
      direction="vertical"
      justify="center"
      align="center"
      className="gap-6 mb-12"
    >
      <a
        href="/"
        onclick="closeMenu()"
        class="text-white text-[24px] font-medium font-sans hover:text-light-purple transition-colors duration-300 py-3 px-6 min-h-[44px] flex items-center justify-center"
      >
        Home
      </a>
      <a
        href="/contact-us"
        onclick="closeMenu()"
        class="text-white text-[24px] font-medium font-sans hover:text-light-purple transition-colors duration-300 py-3 px-6 min-h-[44px] flex items-center justify-center"
      >
        Contact us
      </a>
      <a
        href="/whitepaper"
        onclick="closeMenu()"
        class="text-white text-[24px] font-medium font-sans hover:text-light-purple transition-colors duration-300 py-3 px-6 min-h-[44px] flex items-center justify-center"
      >
        Whitepaper
      </a>
    </AlignmentLayout>

    <div class="flex flex-col items-center gap-6">
      <a
        href="https://polygonscan.com/address/0x34514180F94903BF8649884bD7e80fcDC1048b9d"
        target="_blank"
        onclick="closeMenu()"
        aria-label="Verify on PolygonScan"
      >
        <Button
          text="Verify on PolygonScan"
          className="whitespace-nowrap w-full min-w-[250px]"
          variant="primary"
        />
      </a>
    </div>
  </AlignmentLayout>
</div>

<style>
  #menu-mobile {
    background: rgba(13, 11, 45, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    opacity: 0;
    visibility: hidden;
    transition:
      opacity 0.3s ease-in-out,
      visibility 0.3s ease-in-out;
  }

  /* When specifically hidden (default state) */
  #menu-mobile.hidden {
    display: none;
    opacity: 0;
    pointer-events: none;
  }

  /* Open state - overrides everything else on mobile */
  #menu-mobile.menu-open {
    display: block;
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
  }

  #menu-mobile.menu-closed {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
  }

  /* Desktop force hide - highest priority */
  @media (min-width: 640px) {
    #menu-mobile,
    #menu-mobile.menu-open,
    #menu-mobile.menu-closed {
      display: none !important;
      opacity: 0 !important;
      visibility: hidden !important;
      pointer-events: none !important;
    }
  }
</style>
