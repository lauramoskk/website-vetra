---
interface Props {
  className?: string;
  bottom?: boolean;
}

const { className, bottom = true } = Astro.props;

// Calculamos a posição e alinhamento baseados na prop
const containerStyle = bottom
  ? "bottom: 0; align-items: flex-end;"
  : "top: 0; align-items: flex-start;";

const glowStyle = bottom ? "margin-bottom: -250px;" : "margin-top: -250px;";
---

<div class:list={["pulse-container", className]} style={containerStyle}>
  <div class="pulse-glow" style={glowStyle}></div>
</div>

<style>
  .pulse-container {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    height: 400px;
    pointer-events: none;
    overflow: hidden;
    display: flex;
    justify-content: center;
  }

  .pulse-glow {
    width: 1400px;
    height: 500px;
    background: radial-gradient(
      50% 50% at 50% 50%,
      rgba(100, 51, 144, 0.5) 0%,
      /* Aumentado de 0.5 para 0.9 */ rgba(5, 1, 9, 0) 100%
    );
    border-radius: 50%;
    filter: blur(60px); /* Reduzi o blur de 80 para 60 para ficar mais nítido */
    animation: pulse-animation 6s ease-in-out infinite; /* Mais rápido */
  }

  @keyframes pulse-animation {
    0%,
    100% {
      transform: scale(1) translateY(0);
      opacity: 0.6; /* Aumentado de 0.4 */
    }
    50% {
      transform: scale(1.3) translateY(var(--pulse-translate, -30px)); /* Mais escala e movimento */
      opacity: 1; /* Opacidade total no pico */
    }
  }

  /* Ajuste de direção da animação baseado na posição */
  .pulse-container[style*="top: 0"] .pulse-glow {
    --pulse-translate: 20px;
  }
  .pulse-container[style*="bottom: 0"] .pulse-glow {
    --pulse-translate: -20px;
  }

  /* Ajuste para mobile */
  @media (max-width: 640px) {
    .pulse-container {
      height: 480px; /* Quase metade da seção */
    }
    .pulse-glow {
      width: 1400px;
      max-width: 300%;
      height: 600px;
      filter: blur(80px); /* Mais blur no mobile para espalhar melhor */
    }
    .pulse-container[style*="bottom: 0"] .pulse-glow {
      margin-bottom: -200px;
    }
    .pulse-container[style*="top: 0"] .pulse-glow {
      margin-top: -200px;
    }
  }
</style>
