---
import { cn } from '../utils/cn';

interface Props {
    value: string;
    label: string;
    icon?: string;
    fullWidth?: boolean;
    centerContent?: boolean;
    className?: string;
}

const { value, label, icon, fullWidth = false, centerContent = false, className = '' }: Props = Astro.props;

// Classes base do card
const cardBaseClasses = cn(
	// Layout
	'flex items-center gap-6',
	// Visual
	'bg-background-card rounded-lg py-4',
	// Responsividade
	'max-sm:h-[86px]'
);

// Classes condicionais baseadas nas props
const cardSizeClasses = fullWidth 
	? cn('w-full h-[132px] px-6', 'max-sm:h-[86px]')
	: 'flex-1 px-6';

const cardJustifyClasses = centerContent ? 'justify-center' : '';

// Classes do container do card
const cardClasses = cn(
	cardBaseClasses,
	cardSizeClasses,
	cardJustifyClasses,
	className
);

// Classes do ícone
const iconContainerClasses = cn(
	// Layout
	'flex justify-center items-center',
	// Sizing
	'w-10 h-10'
);

const iconImageClasses = 'w-10 h-10';

// Classes do placeholder do ícone
const iconPlaceholderClasses = cn(
	// Layout
	'flex justify-center items-center shrink-0',
	// Sizing
	'w-10 h-10',
	// Visual
	'rounded-full bg-text-blue/8 p-2'
);

const iconPlaceholderInnerClasses = cn(
	// Sizing
	'w-4 h-4',
	// Visual
	'bg-text-blue/20 rounded'
);

// Classes do conteúdo
const contentContainerClasses = cn(
	// Layout
	'flex flex-col gap-2',
	// Conditional
	!centerContent && 'flex-1'
);

// Classes do título
const titleClasses = cn(
	// Typography
	'font-serif text-[32px] leading-[40px] font-semibold text-text-secondary',
	// Responsividade
	'max-sm:text-[24px] max-sm:leading-[32px]',
	// Conditional
	centerContent && 'text-center'
);

// Classes do label
const labelClasses = cn(
	// Typography
	'text-[16px] leading-[20px] text-text-secondary',
	// Conditional
	centerContent && 'text-center'
);
---

<div class={cardClasses}>
	{icon ? (
		<div class={iconContainerClasses}>
			<img src={icon} alt="" class={iconImageClasses} aria-hidden="true" />
		</div>
	) : (
		<div class={iconPlaceholderClasses}>
			<div class={iconPlaceholderInnerClasses}></div>
		</div>
	)}
	
	<div class={contentContainerClasses}>
		<h3 class={titleClasses}>{value}</h3>
		<p class={labelClasses}>{label}</p>
	</div>
</div>

